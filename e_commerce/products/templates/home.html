{% extends 'base.html' %} {% block content %}

<div class="container">
  <section class="d-flex flex-wrap justify-content-center gap-3">
    {% for product in products %}
    <div class="card custom-card" style="width: 18rem">
      <img
        src="{{ product.thumbnail }}"
        class="card-img-top"
        alt="{{ product.name }}"
      />
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ product.title }}</h5>
        <p
          class="card-text flex-grow-1"
          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap"
        >
          {{ product.description }}
        </p>
        {% if request.user.is_authenticated %}
        <a href="{% url 'single' product.id %}" class="btn btn-danger mt-3"
          >Details</a
        >
        {% else %}
        <a href="{% url 'login'  %}" class="btn btn-danger mt-3">Details</a>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </section>
</div>
{% endblock content %}
